<?xml version="1.0" encoding="utf-8" ?>
<reglas>
    <revista issn="1026-8774">
        <nombre>Revista mexicana de ciencias geológicas</nombre>
        <regex>(.*?[,.]\ )((?:19|20)[0-9]{2})([a-z]*[,.]\ )(.*)(:\ )(.*)\.</regex>
        <struct>
            <ocitat tag="true">
                <autores>
                    <value>$1</value>
                    <regex>(.*?\.)(,\ |\ $)</regex>
                    <struct>
                        <author tag="true">
                            <value>$1</value>
                            <multiple>
                                <opcion>
                                    <regex>(.*?)(,\ )(.*)</regex>
                                    <struct>
                                        <surname tag="true">
                                            <value>$1</value>
                                            <postvalue>$2</postvalue>
                                        </surname>
                                        <fname tag="true">
                                            <value>$3</value>
                                        </fname>
                                    </struct>
                                </opcion>
                                <opcion>
                                    <regex>(.*?)(\ )(.*)</regex>
                                    <struct>
                                        <surname tag="true">
                                            <value>$1</value>
                                            <postvalue>$2</postvalue>
                                        </surname>
                                        <fname tag="true">
                                            <value>$3</value>
                                        </fname>
                                    </struct>
                                </opcion>
                            </multiple>
                            <postvalue>$2</postvalue>
                        </author>
                    </struct>
                </autores>
                <date tag="true">
                    <value>$2</value>
                    <postvalue>$3</postvalue>
                </date>
                <title tag="true">
                    <value>$4</value>
                    <postvalue>$5</postvalue>
                </title>
                <restante>
                    <value>$6</value>
                </restante>
            </ocitat>
        </struct>
    </revista>
    <revista issn="0185-3880">
        <nombre>Ciencias marinas</nombre>
        <regex>(.*?)\.\ ((?:19|20)[0-9]{2}[a-z]*)[,.]\ (.*?)(?:\.\ In:\ |\.\ )(.*)</regex>
    </revista>
    <revista issn="0187-6236">
        <nombre>Atmósfera</nombre>
        <regex>(.*?,\ )((?:19|20)[0-9]{2})([a-z]*[,.]\ )(.*?)(\.\ In:\ |\.\ )(.*)</regex>
        <struct>
            <ocitat tag="true">
                <contrib tag="true">
                    <autores>
                        <value>$1</value>
                        <regex>(.*?)(,\ |\ and\ )</regex>
                        <struct>
                            <author tag="true">
                                <value>$1</value>
                                <multiple>
                                    <opcion>
                                        <regex>([A-Z]\.\ [A-Z]\.|[A-Z]\.)(\ )(.*)</regex>
                                        <struct>
                                            <fname tag="true">
                                                <value>$1</value>
                                                <postvalue>$2</postvalue>
                                            </fname>
                                            <surname tag="true">
                                                <value>$3</value>
                                            </surname>
                                        </struct>
                                    </opcion>
                                    <opcion>
                                        <regex>(.*?)(\ )([A-Z]\.\ [A-Z]\.|[A-Z]\.)</regex>
                                        <struct>
                                            <surname tag="true">
                                                <value>$1</value>
                                                <postvalue>$2</postvalue>
                                            </surname>
                                            <fname tag="true">
                                                <value>$3</value>
                                            </fname>
                                        </struct>
                                    </opcion>
                                </multiple>
                                <postvalue>$2</postvalue>
                            </author>
                        </struct>
                    </autores>
                    <date tag="true">
                        <value>$2</value>
                        <postvalue>$3</postvalue>
                    </date>
                    <title tag="true">
                        <value>$4</value>
                    </title>
                </contrib>
                <contribin>
                    <value>$5$6</value>
                    <multiple>
                        <opcion>
                            <regex>(\.\ In:\ )(.*)</regex>
                            <struct>
                                <monog tag="true">
                                    <prevalue>$1</prevalue>
                                    <value>$2</value>
                                </monog>
                            </struct>
                        </opcion>
                        <opcion>
                            <regex>(\.\ )(.*)</regex>
                            <struct>
                                <serial tag="true">
                                    <prevalue>$1</prevalue>
                                    <value>$2</value>
                                </serial>
                            </struct>
                        </opcion>
                    </multiple>
                </contribin>
            </ocitat>
        </struct>
    </revista>
    <revista issn="0185-3325">
        <nombre>Salud mental</nombre>
        <regex>([0-9]+?)(\.\ )(.+?(?:\.\ |\:\ ))(.+?)(\.\ |\?\ )(.*)</regex>
        <struct>
            <ocitat tag="true">
                <no tag="true">
                    <value>$1</value>
                    <postvalue>$2</postvalue>
                </no>
                <autores>
                    <value>$3</value>
                    <regex>(.*?)(,\ |\ y\ |\.\ |\ et\ al\.)</regex>
                    <struct>
                        <author tag="true">
                            <value>$1</value>
                            <multiple>
                                <opcion>
                                    <regex>([A-Z]\.\ [A-Z]\.|[A-Z]\.)(\ )(.*)</regex>
                                    <struct>
                                        <fname tag="true">
                                            <value>$1</value>
                                            <postvalue>$2</postvalue>
                                        </fname>
                                        <surname tag="true">
                                            <value>$3</value>
                                        </surname>
                                    </struct>
                                </opcion>
                                <opcion>
                                    <regex>(.*?)(\ )([A-Z]{1,2})$</regex>
                                    <struct>
                                        <surname tag="true">
                                            <value>$1</value>
                                            <postvalue>$2</postvalue>
                                        </surname>
                                        <fname tag="true">
                                            <value>$3</value>
                                        </fname>
                                    </struct>
                                </opcion>
                            </multiple>
                        </author>
                        <opt>
                            <value>$2</value>
                            <regex>(\ )(et\ al)(\.?)</regex>
                            <struct>
                                <et-al tag="true">
                                    <prevalue>$1</prevalue>
                                    <value>$2</value>
                                    <postvalue>$3</postvalue>
                                </et-al>
                            </struct>
                        </opt>
                    </struct>
                </autores>
                <title tag="true">
                    <value>$4</value>
                    <postvalue>$5</postvalue>
                </title>
                <restante>
                    <value>$6</value>
                </restante>
            </ocitat>
        </struct>
    </revista>
    <revista issn="1405-7743">
        <nombre>Ingeniería, investigación y tecnología</nombre>
        <regex>((?:.+?\ y\ .+?)|.+?)\.\ (.+?)(?:\.\ |\?\ )(.*)</regex>
    </revista>
</reglas>
