<?xml version="1.0" encoding="utf-8" ?>
<reglas>
    <revista issn="1026-8774">
        <nombre>Revista mexicana de ciencias geológicas</nombre>
        <regex>(.*?[,.]\ )((?:19|20)[0-9]{2})([a-z]*[,.]\ )(.*)(:\ )(.*)\.</regex>
        <struct>
            <ocitat tag="true">
                <autores>
                    <value>$1</value>
                    <regex>(.*?\.)(,\ |\ $)</regex>
                    <struct>
                        <oauthor tag="true">
                            <attr>
                                <role>nd</role>
                            </attr>
                            <value>$1</value>
                            <multiple>
                                <opcion>
                                    <regex>(.*?)(,\ )(.*)</regex>
                                    <struct>
                                        <surname tag="true">
                                            <value>$1</value>
                                            <postvalue>$2</postvalue>
                                        </surname>
                                        <fname tag="true">
                                            <value>$3</value>
                                        </fname>
                                    </struct>
                                </opcion>
                                <opcion>
                                    <regex>(.*?)(\ )(.*)</regex>
                                    <struct>
                                        <surname tag="true">
                                            <value>$1</value>
                                            <postvalue>$2</postvalue>
                                        </surname>
                                        <fname tag="true">
                                            <value>$3</value>
                                        </fname>
                                    </struct>
                                </opcion>
                            </multiple>
                            <postvalue>$2</postvalue>
                        </oauthor>
                    </struct>
                </autores>
                <date tag="true">
                    <attr>
                        <dateiso/>
                    </attr>
                    <value>$2</value>
                    <postvalue>$3</postvalue>
                </date>
                <title tag="true">
                    <value>$4</value>
                    <postvalue>$5</postvalue>
                </title>
                <restante>
                    <value>$6</value>
                </restante>
            </ocitat>
        </struct>
    </revista>
    <revista issn="0185-3880">
        <nombre>Ciencias marinas</nombre>
        <regex>(.*?\.\ )((?:19|20)[0-9]{2})([a-z]*[,.]\ )(.*?)(\.\ In:\ |\.\ )(.*)</regex>
        <struct>
            <ocitat tag="true">
                <contrib tag="true">
                    <autores>
                        <value>$1</value>
                        <regex>(.*?)(\.\ |,\ )</regex>
                        <struct>
                            <oauthor tag="true">
                                <attr>
                                    <role>nd</role>
                                </attr>
                                <value tag="true">$1</value>
                                <regex>(.*?)(\ )(.*)</regex>
                                <struct>
                                    <surname tag="true">
                                        <value>$1</value>
                                        <postvalue>$2</postvalue>
                                    </surname>
                                    <fname tag="true">
                                        <value>$3</value>
                                    </fname>
                                </struct>
                                <postvalue>$2</postvalue>
                            </oauthor>
                        </struct>
                    </autores>
                    <date tag="true">
                        <attr>
                            <dateiso/>
                        </attr>
                        <value>$2</value>
                        <postvalue>$3</postvalue>
                    </date>
                    <title tag="true">
                        <value>$4</value>
                    </title>
                </contrib>
                <restante>
                    <value>$5$6</value>
                    <multiple>
                        <option>
                            <regex>(\.\ In:\ )(.*)</regex>
                            <struct>
                                <omonog tag="true">
                                    <prevalue>$1</prevalue>
                                    <value>$2</value>
                                    <regex>(.*,)(\ )(.*?\.)(\ )(.*?)(,\ )(.*?)(,\ pp\.\ )([0-9]*?[–-–][0-9]*)(.*)</regex>
                                    <struct>
                                        <autores>
                                            <value>$1</value>
                                            <postvalue>$2</postvalue>
                                        </autores>
                                        <title tag="true">
                                            <value>$3</value>
                                            <postvalue>$4</postvalue>
                                        </title>
                                        <pubname tag="true">
                                            <value>$5</value>
                                            <postvalue>$6</postvalue>
                                        </pubname>
                                        <city tag="true">
                                            <value>$7</value>
                                        </city>
                                        <pages tag="true">
                                            <prevalue>$8</prevalue>
                                            <value>$9</value>
                                            <postvalue>$10</postvalue>
                                        </pages>
                                    </struct>
                                </omonog>
                            </struct>
                        </option>
                        <option>
                            <regex>(\.\ )(.*)</regex>
                            <struct>
                                <oiserial tag="true">
                                    <prevalue>$1</prevalue>
                                    <value>$2</value>
                                    <regex>(.*?\.*)(\ )([0-9]*?)(:\ )([0-9]*?[–-][0-9]*)(.*)</regex>
                                    <struct>
                                        <stitle tag="true">
                                            <value>$1</value>
                                            <postvalue>$2</postvalue>
                                        </stitle>
                                        <volid tag="true">
                                            <value>$3</value>
                                            <postvalue>$4</postvalue>
                                        </volid>
                                        <pages tag="true">
                                            <value>$5</value>
                                            <postvalue>$6</postvalue>
                                        </pages>
                                    </struct>
                                </oiserial>
                            </struct>
                        </option>
                    </multiple>
                </restante>
                
            </ocitat>
        </struct>
    </revista>
    <revista issn="0187-6236">
        <nombre>Atmósfera</nombre>
        <regex>(.*?,\ )((?:19|20)[0-9]{2})([a-z]*[,.]\ )(.*?)(\.\ In:\ |\.\ )(.*)</regex>
        <struct>
            <ocitat tag="true">
                <contrib tag="true">
                    <autores>
                        <value>$1</value>
                        <regex>(.*?)(,\ |\ and\ )</regex>
                        <struct>
                            <oauthor tag="true">
                                <attr>
                                    <role>nd</role>
                                </attr>
                                <value>$1</value>
                                <multiple>
                                    <opcion>
                                        <regex>([A-Z]\.\ [A-Z]\.|[A-Z]\.)(\ )(.*)</regex>
                                        <struct>
                                            <fname tag="true">
                                                <value>$1</value>
                                                <postvalue>$2</postvalue>
                                            </fname>
                                            <surname tag="true">
                                                <value>$3</value>
                                            </surname>
                                        </struct>
                                    </opcion>
                                    <opcion>
                                        <regex>(.*?)(\ )([A-Z]\.\ [A-Z]\.|[A-Z]\.)</regex>
                                        <struct>
                                            <surname tag="true">
                                                <value>$1</value>
                                                <postvalue>$2</postvalue>
                                            </surname>
                                            <fname tag="true">
                                                <value>$3</value>
                                            </fname>
                                        </struct>
                                    </opcion>
                                </multiple>
                                <postvalue>$2</postvalue>
                            </oauthor>
                        </struct>
                    </autores>
                    <date tag="true">
                        <attr>
                            <dateiso/>
                        </attr>
                        <value>$2</value>
                        <postvalue>$3</postvalue>
                    </date>
                    <title tag="true">
                        <value>$4</value>
                    </title>
                </contrib>
                <contribin>
                    <value>$5$6</value>
                    <multiple>
                        <opcion>
                            <regex>(\.\ In:\ )(.*)</regex>
                            <struct>
                                <monog tag="true">
                                    <prevalue>$1</prevalue>
                                    <value>$2</value>
                                </monog>
                            </struct>
                        </opcion>
                        <opcion>
                            <regex>(\.\ )(.*)</regex>
                            <struct>
                                <serial tag="true">
                                    <prevalue>$1</prevalue>
                                    <value>$2</value>
                                </serial>
                            </struct>
                        </opcion>
                    </multiple>
                </contribin>
            </ocitat>
        </struct>
    </revista>
    <revista issn="0185-3325">
        <nombre>Salud mental</nombre>
        <regex>(.+)</regex>
        <struct>
            <ocitat tag="true">
                <value>$1</value>
                <multiple>
                    <option>
                        <regex>([0-9]+?)(\.\ )(.+?(?:\.\ |\:\ ))(.+?)(\.\ |\?\ )(En:\ )(.*)</regex>
                        <struct>
                            <no tag="true">
                                <value>$1</value>
                                <postvalue>$2</postvalue>
                            </no>
                            <ocontrib tag="true">
                                <autores>
                                    <value>$3</value>
                                    <regex>(.*?)(,\ |\ y\ |\.\ |\ et\ al\.)</regex>
                                    <struct>
                                        <oauthor tag="true">
                                            <attr>
                                                <role>nd</role>
                                            </attr>
                                            <value>$1</value>
                                            <multiple>
                                                <opcion>
                                                    <regex>([A-Z]\.\ [A-Z]\.|[A-Z]\.)(\ )(.*)</regex>
                                                    <struct>
                                                        <fname tag="true">
                                                            <value>$1</value>
                                                            <postvalue>$2</postvalue>
                                                        </fname>
                                                        <surname tag="true">
                                                            <value>$3</value>
                                                        </surname>
                                                    </struct>
                                                </opcion>
                                                <opcion>
                                                    <regex>(.*?)(\ )([A-Z]{1,2})$</regex>
                                                    <struct>
                                                        <surname tag="true">
                                                            <value>$1</value>
                                                            <postvalue>$2</postvalue>
                                                        </surname>
                                                        <fname tag="true">
                                                            <value>$3</value>
                                                        </fname>
                                                    </struct>
                                                </opcion>
                                            </multiple>
                                        </oauthor>
                                        <opt>
                                            <value>$2</value>
                                            <regex>(\ )(et\ al)(\.?)</regex>
                                            <struct>
                                                <et-al tag="true">
                                                    <prevalue>$1</prevalue>
                                                    <value>$2</value>
                                                    <postvalue>$3</postvalue>
                                                </et-al>
                                            </struct>
                                        </opt>
                                    </struct>
                                </autores>
                                <title tag="true">
                                    <value>$4</value>
                                    <postvalue>$5$6</postvalue>
                                </title>
                            </ocontrib>
                            <omonog tag="true">
                                <value>$7</value>
                                <regex>(.*?(?:\(.*?\)\.\ |\.\ ))(.*?)(\. )([^.]*?)(:\ )([^:]*?)(;\ )((?:19|20)[0-9]{2})(.*)</regex>
                                <struct>
                                    <autores>
                                        <value>$1</value>
                                        <regex>(.*?)(,\ |\ y\ |\.\ |\ et\ al\.|\ \(.*?\)\.\ )</regex>
                                        <struct>
                                            <oauthor tag="true">
                                                <attr>
                                                    <role>nd</role>
                                                </attr>
                                                <value>$1</value>
                                                <multiple>
                                                    <opcion>
                                                        <regex>([A-Z]\.\ [A-Z]\.|[A-Z]\.)(\ )(.*)</regex>
                                                        <struct>
                                                            <fname tag="true">
                                                                <value>$1</value>
                                                                <postvalue>$2</postvalue>
                                                            </fname>
                                                            <surname tag="true">
                                                                <value>$3</value>
                                                            </surname>
                                                        </struct>
                                                    </opcion>
                                                    <opcion>
                                                        <regex>(.*?)(\ )([A-Z]{1,2})$</regex>
                                                        <struct>
                                                            <surname tag="true">
                                                                <value>$1</value>
                                                                <postvalue>$2</postvalue>
                                                            </surname>
                                                            <fname tag="true">
                                                                <value>$3</value>
                                                            </fname>
                                                        </struct>
                                                    </opcion>
                                                </multiple>
                                            </oauthor>
                                            <opt>
                                                <value>$2</value>
                                                <regex>(\ )(et\ al)(\.?)</regex>
                                                <struct>
                                                    <et-al tag="true">
                                                        <prevalue>$1</prevalue>
                                                        <value>$2</value>
                                                        <postvalue>$3</postvalue>
                                                    </et-al>
                                                </struct>
                                            </opt>
                                        </struct>
                                    </autores>
                                    <title tag="true">
                                        <value>$2</value>
                                        <postvalue>$3</postvalue>
                                    </title>
                                    <city tag="true">
                                        <value>$4</value>
                                        <postvalue>$5</postvalue>
                                    </city>
                                    <pubname tag="true">
                                        <value>$6</value>
                                        <postvalue>$7</postvalue>
                                    </pubname>
                                    <date tag="true">
                                        <attr>
                                            <dateiso/>
                                        </attr>
                                        <value>$8</value>
                                        <postvalue>$9</postvalue>
                                    </date>
                                </struct>
                            </omonog>
                        </struct>
                    </option>
                    <option>
                        <regex>([0-9]+?)(\.\ )(.+?(?:\.\ |\:\ ))(.+?)(\.\ |\?\ )(.*?)(:\ )(.*?)(;\ )((?:19|20)[0-9]{2})(.*)</regex>
                        <struct>
                            <no tag="true">
                                <value>$1</value>
                                <postvalue>$2</postvalue>
                            </no>
                            <omonog tag="true">
                                <autores>
                                    <value>$3</value>
                                    <regex>(.*?)(,\ |\ y\ |\.\ |\ et\ al\.)</regex>
                                    <struct>
                                        <oauthor tag="true">
                                            <attr>
                                                <role>nd</role>
                                            </attr>
                                            <value>$1</value>
                                            <multiple>
                                                <opcion>
                                                    <regex>([A-Z]\.\ [A-Z]\.|[A-Z]\.)(\ )(.*)</regex>
                                                    <struct>
                                                        <fname tag="true">
                                                            <value>$1</value>
                                                            <postvalue>$2</postvalue>
                                                        </fname>
                                                        <surname tag="true">
                                                            <value>$3</value>
                                                        </surname>
                                                    </struct>
                                                </opcion>
                                                <opcion>
                                                    <regex>(.*?)(\ )([A-Z]{1,2})$</regex>
                                                    <struct>
                                                        <surname tag="true">
                                                            <value>$1</value>
                                                            <postvalue>$2</postvalue>
                                                        </surname>
                                                        <fname tag="true">
                                                            <value>$3</value>
                                                        </fname>
                                                    </struct>
                                                </opcion>
                                            </multiple>
                                        </oauthor>
                                        <opt>
                                            <value>$2</value>
                                            <regex>(\ )(et\ al)(\.?)</regex>
                                            <struct>
                                                <et-al tag="true">
                                                    <prevalue>$1</prevalue>
                                                    <value>$2</value>
                                                    <postvalue>$3</postvalue>
                                                </et-al>
                                            </struct>
                                        </opt>
                                    </struct>
                                </autores>
                                <title tag="true">
                                    <value>$4</value>
                                    <postvalue>$5</postvalue>
                                </title>
                                <city tag="true">
                                    <value>$6</value>
                                    <postvalue>$7</postvalue>
                                </city>
                                <pubname tag="true">
                                    <value>$8</value>
                                    <postvalue>$9</postvalue>
                                </pubname>
                                <date tag="true">
                                    <attr>
                                        <dateiso/>
                                    </attr>
                                    <value>$10</value>
                                    <postvalue>$11</postvalue>
                                </date>
                            </omonog>
                        </struct>
                    </option>
                    <option>
                        <regex>([0-9]+?)(\.\ )(.+?(?:\.\ |\:\ ))(.+?)(\.\ |\?\ )(.*)</regex>
                        <struct>
                            <no tag="true">
                                <value>$1</value>
                                <postvalue>$2</postvalue>
                            </no>
                            <ocontrib tag="true">
                                <autores>
                                        <value>$3</value>
                                        <regex>(.*?)(,\ |\ y\ |\.\ |\ et\ al\.)</regex>
                                        <struct>
                                            <oauthor tag="true">
                                                <attr>
                                                    <role>nd</role>
                                                </attr>
                                                <value>$1</value>
                                                <multiple>
                                                    <opcion>
                                                        <regex>([A-Z]\.\ [A-Z]\.|[A-Z]\.)(\ )(.*)</regex>
                                                        <struct>
                                                            <fname tag="true">
                                                                <value>$1</value>
                                                                <postvalue>$2</postvalue>
                                                            </fname>
                                                            <surname tag="true">
                                                                <value>$3</value>
                                                            </surname>
                                                        </struct>
                                                    </opcion>
                                                    <opcion>
                                                        <regex>(.*?)(\ )([A-Z]{1,2})$</regex>
                                                        <struct>
                                                            <surname tag="true">
                                                                <value>$1</value>
                                                                <postvalue>$2</postvalue>
                                                            </surname>
                                                            <fname tag="true">
                                                                <value>$3</value>
                                                            </fname>
                                                        </struct>
                                                    </opcion>
                                                </multiple>
                                            </oauthor>
                                            <opt>
                                                <value>$2</value>
                                                <regex>(\ )(et\ al)(\.?)</regex>
                                                <struct>
                                                    <et-al tag="true">
                                                        <prevalue>$1</prevalue>
                                                        <value>$2</value>
                                                        <postvalue>$3</postvalue>
                                                    </et-al>
                                                </struct>
                                            </opt>
                                        </struct>
                                    </autores>
                                    <title tag="true">
                                        <value>$4</value>
                                        <postvalue>$5</postvalue>
                                    </title>
                            </ocontrib>
                            <oiserial tag="true">
                                <value>$6</value>
                            </oiserial>
                        </struct>
                    </option>
                </multiple>
            </ocitat>
        </struct>
    </revista>
    <revista issn="1405-7743">
        <nombre>Ingeniería, investigación y tecnología</nombre>
        <regex>((?:.+?\ y\ .+?)|.+?)\.\ (.+?)(?:\.\ |\?\ )(.*)</regex>
    </revista>
</reglas>
